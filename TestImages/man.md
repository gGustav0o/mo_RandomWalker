

## Изображение

**Файл**: `man.jpg`  
**Описание**: Силуэт человека на белом фоне. Контраст высокий, но контур сложный и содержит мелкие выступы.

## Результат

Были введены по несколько маркеров каждого типа, ВАЖНО: в нижней части изображения область между рукой и туловищем человека не была помечена как фон.
Алгоритм Random Walker успешно выделил объект, за исключением одного дефекта: в нижней части силуэта осталось небольшое светлое вкрапление фона, не отнесённое к объекту.

## Обоснование результата

### 1. Общая корректность сегментации

- Изображение бинарное (белый фон, чёрный силуэт), разность интенсивностей ≈ 255.
- При текущем значении `kBeta = 0.001`:
  - веса на границе объекта и фона:  
    `w ≈ exp(-0.001 * 255^2) ≈ 5e-29` → фактически ноль;
  - веса внутри силуэта: ≈ 1.

Следовательно, **граф «разрывается» по границе**, и Random Walker распространяется строго внутри объекта — что и наблюдается.

### 2. Причина появления дефекта

- Светлое вкрапление внутри силуэта — это **локально замкнутая область фона**, полностью окружённая объектом.
- Алгоритм Random Walker **не имеет априорного знания**, что "внутри" объекта не должно быть фона.
- Если **внутри вкрапления не оказалось маркеров фона**, а рядом есть маркер объекта — то блуждание туда **может проникнуть**.

В этом случае:
- пиксели внутри вкрапления имели весовые связи **только с объектом**;
- отсутствовала графовая связь с метками фона;
- в результате — классифицировано как объект.

### 3. Возможные способы устранения

- **Добавление дополнительных маркеров** в проблемные зоны (вручную или автоматически).
- Использование **морфологических постобработок**.
- Введение **регуляризирующего пост-шага**: замкнутые компоненты без связи с фоном переопределяются.
- Или: **адаптивное добавление внутренних маркеров**, если область «вырезана».

---

## Вывод

Random Walker дал корректную сегментацию, исходя из своей модели и ограниченных меток. Дефект внутри объекта объясняется:

- отсутствием семени внутри вкрапления;
- замкнутой топологией области;
- наличием близлежащего семени фона.

Это **не ошибка алгоритма**, а ожидаемое поведение при заданных условиях.