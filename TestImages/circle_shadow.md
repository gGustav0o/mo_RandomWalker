

## Изображение

**Файл**: `circle_shadow.png`  
**Описание**: Неконтрастное изображение — полутоновое, с шумом и мягкой неоднородностью (тень или дефект) внутри светлого круга.

## Результат

При использовании `β = 0.085` алгоритм Random Walker **неустойчиво сегментирует объект**:
- при малом количестве маркеров — объект и фон смешиваются;
- при большом количестве маркеров — границы улучшаются, но остаются нечеткими в неокрашенных областях.

## Обоснование результата

### 1. Глобальный контраст изображения

Разница между фоном и объектом небольшая:

- Пусть яркость фона: `I_f ≈ 110`, объекта: `I_o ≈ 90`;
- Разность интенсивностей: `ΔI = 20 → ΔI^2 = 400`;

Тогда вес:

```
w = exp(-0.085 * 400) = exp(-34) ≈ 1.7 · 10⁻¹⁵
```

Это **слишком низкое значение**, и графовая связь разрушается даже при малых перепадах.

---

### 2. Эффект шумов и мягких переходов

- Внутри как объекта, так и фона присутствуют **плавные градиенты**;
- При `β = 0.085` даже **внутренние веса ослабевают**;
- Это приводит к **локальной изоляции** меток: блуждание останавливается вблизи маркера.

Результат — **локальная сегментация**, зависящая от плотности и размещения меток.

---

### 3. Чувствительность к расположению маркеров

- Алгоритм работает как решение задачи Дирихле на графе;
- Если расстояние до ближайшего маркера велико, а веса малы — **возникают большие зоны неопределённости**;
- В этих зонах финальная классификация зависит от **шума и формы графа**, а не от глобального сигнала.

---

## Возможные решения

1.  **Автоматическое размещение маркеров** по кластеризации или предварительной фильтрации.

2. **Препроцессинг изображения**:
   - Контрастная нормализация (CLAHE, гистограмма);
   - Удаление шума (гауссов или медианный фильтр).

3. **Адаптивный β** по локальной дисперсии.

---

## Вывод
- веса между пикселями объекта и внутри него малы;
- границы неформируются, блуждание слабо распространяется;
- без плотного покрытия маркерами — сегментация распадается.
